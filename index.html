<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NUTRAFORTE</title>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-M8L5DWDR');
  </script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8L5DWDR"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <header class="encabezado">
    <div class="logo-box">
      <img src="logo.png" alt="Logo Nutraforte" class="logo">
      <h3>¬°Expertos en Nutrici√≥n y Salud Animal!</h3>
    </div>
  </header>

  <nav class="navbar">
    <a href="#inicio" onclick="cargarFormulario('home.html')">Inicio</a>
    <a href="#nosotros" onclick="cargarFormulario('quienes_somos.html')">Nosotros</a>
    <a href="#servicios" onclick="cargarFormulario('marcas.html')">Marcas</a>
    <a href="#contacto" onclick="cargarFormulario('contacto.html')">Contacto</a>
  </nav>

  <div id="contenido" style="padding: 20px;">
  </div>

  <footer>
    <p>&copy; 2025 NUTRAFORTE - Todos los derechos reservados</p>
  </footer>

  <script src="script.js"></script>

<script>
function cargarFormulario(archivo) {
  fetch(archivo)
    .then(res => res.text())
    .then(html => {
      const cont = document.getElementById('contenido');
      cont.innerHTML = html;

      // üîπ dispara una ‚Äúvista de p√°gina‚Äù virtual para GTM/GA4
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        event: 'virtual_pageview',
        page_path: '/' + archivo.replace('.html',''),
        page_title: documentoTitulo(archivo) // opcional (define esta funci√≥n)
      });

      // si usas el slider, reinit:
      if (window.initSliders) window.initSliders(cont);
    })
    .catch(err => console.error('Error cargando', archivo, err));
}

function documentoTitulo(archivo){
  const map = {
    'home.html': 'Inicio',
    'quienes_somos.html': 'Nosotros',
    'marcas.html': 'Marcas',
    'contacto.html': 'Contacto'
  };
  return map[archivo] || archivo;
}
</script>


<script defer>
(function () {
  function el(tag, cls){ const n = document.createElement(tag); if(cls) n.className = cls; return n; }

  function setupSlider(root){
    if(!root || root.dataset.initialized === 'true') return;
    root.dataset.initialized = 'true';

    let stage = root.querySelector('.slider-stage');
    if(!stage){
      stage = el('div','slider-stage');
      const slidesInRoot = [...root.querySelectorAll(':scope > .slide, :scope > figure.slide')];
      slidesInRoot.forEach(s => stage.appendChild(s));
      if(!slidesInRoot.length){
        const old = root.querySelector('.slider-slide');
        if(old){ [...old.children].forEach(s => stage.appendChild(s)); old.remove(); }
      }
      root.insertBefore(stage, root.firstChild);
    }

    const slides = [...stage.querySelectorAll('.slide')];
    if(!slides.length) return;
    if(!stage.querySelector('.slide.active')) slides[0].classList.add('active');

    let prevBtn = root.querySelector('.slider-btn.prev');
    let nextBtn = root.querySelector('.slider-btn.next');
    if(!prevBtn){ prevBtn = el('button','slider-btn prev'); prevBtn.setAttribute('aria-label','Anterior'); prevBtn.innerHTML='&#10094;'; root.appendChild(prevBtn); }
    if(!nextBtn){ nextBtn = el('button','slider-btn next'); nextBtn.setAttribute('aria-label','Siguiente'); nextBtn.innerHTML='&#10095;'; root.appendChild(nextBtn); }

    let progWrap = root.querySelector('.slider-progress');
    if(!progWrap){ progWrap = el('div','slider-progress'); const bar = el('span'); progWrap.appendChild(bar); root.insertBefore(progWrap, stage); }
    const progressBar = progWrap.querySelector('span');

    let dotsWrap = root.querySelector('.slider-dots');
    if(!dotsWrap){ dotsWrap = el('div','slider-dots'); root.appendChild(dotsWrap); }
    dotsWrap.innerHTML = '';
    const dots = slides.map((_,idx)=>{ const d=el('button','dot'); d.setAttribute('role','tab'); d.setAttribute('aria-label', String(idx+1)); dotsWrap.appendChild(d); return d; });

    let thumbsWrap = root.querySelector('.slider-thumbs');
    if(!thumbsWrap){ thumbsWrap = el('div','slider-thumbs'); root.appendChild(thumbsWrap); }
    thumbsWrap.innerHTML = '';
    const thumbs = slides.map(sl=>{ const b=el('button','thumb'); const img=sl.querySelector('img')?.cloneNode(); if(img){ img.removeAttribute('srcset'); img.removeAttribute('sizes'); img.loading='lazy'; } b.appendChild(img||el('div')); thumbsWrap.appendChild(b); return b; });

    let i = slides.findIndex(s=>s.classList.contains('active')); if(i<0) i=0;
    let timer=null, tick=null, autoplayMs=5000;

    function setActive(n){
      slides[i].classList.remove('active'); dots[i]?.classList.remove('active'); thumbs[i]?.classList.remove('active');
      i = (n + slides.length) % slides.length;
      slides[i].classList.add('active'); dots[i]?.classList.add('active'); thumbs[i]?.classList.add('active');
      resetProgress();
    }
    const next = ()=> setActive(i+1);
    const prev = ()=> setActive(i-1);

    function play(){ stop(); timer=setInterval(next, autoplayMs); startProgress(); }
    function stop(){ if(timer){clearInterval(timer); timer=null;} if(tick){clearInterval(tick); tick=null;} }
    function startProgress(){ if(!progressBar) return; let w=0; progressBar.style.width='0%'; tick=setInterval(()=>{ w+=100/(autoplayMs/100); progressBar.style.width=Math.min(w,100)+'%'; if(w>=100){ clearInterval(tick); tick=null; }},100); }
    function resetProgress(){ if(progressBar) progressBar.style.width='0%'; if(timer) startProgress(); }

    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);
    dots.forEach((d,idx)=> d.addEventListener('click', ()=> setActive(idx)));
    thumbs.forEach((t,idx)=> t.addEventListener('click', ()=> setActive(idx)));

    root.addEventListener('mouseenter', ()=>root.focus({preventScroll:true}));
    root.setAttribute('tabindex','0');
    root.addEventListener('keydown', e=>{ if(e.key==='ArrowRight') next(); if(e.key==='ArrowLeft') prev(); });

    root.addEventListener('mouseenter', stop);
    root.addEventListener('mouseleave', play);
    root.addEventListener('focusin', stop);
    root.addEventListener('focusout', play);

    let sx=0, dx=0;
    stage.addEventListener('touchstart', e=>{ sx=e.touches[0].clientX; dx=0; }, {passive:true});
    stage.addEventListener('touchmove',  e=>{ dx=e.touches[0].clientX - sx; }, {passive:true});
    stage.addEventListener('touchend',  ()=>{ if(Math.abs(dx)>40) (dx<0?next():prev()); });

    dots[i]?.classList.add('active'); thumbs[i]?.classList.add('active'); play();
  }

  // HAZLA GLOBAL para poder llamarla despu√©s de inyectar HTML
  window.initSliders = function(scope=document){
    scope.querySelectorAll('.slider-animals:not([data-initialized])').forEach(setupSlider);
  };

  // Si hab√≠a sliders ya en el DOM inicial
  document.addEventListener('DOMContentLoaded', ()=> window.initSliders());
})();
</script>


  <style>
    @media screen and (max-width: 600px) {
  .card {
    width: 100%;
    max-width: 320px;
  }
  nav.navbar {
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }
}

/* Responsive */
@media (max-width: 750px) {
  .logo-box {
    align-items: center;
    justify-content: center;
  }
  .logo-box .logo {
    margin: 0 auto 10px auto;
    display: block;
    width: 70vw; /* Ajusta el tama√±o si lo deseas */
    max-width: 75%;
    min-width: 75%;
  }
  .logo-box h3 {
    text-align: center;
  }
}

.N-Marcas {
  font-size: 2em;
  color: #180d36;
  text-align: center;
  display: block;
  margin-bottom: 20px;
  letter-spacing: 2px;
  font-weight: bold;
}
.slider-marcas {
      width: 100%;
      overflow: hidden;
      background-color: white;
      padding: 20px 0;
    }

    .slider-track {
      display: flex;
      width: calc(250px * 10);
      animation: scroll 25s linear infinite;
    }

    .slider-track img {
      width: 250px;
      height: auto;
      margin: 0 15px;
    }
    
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

.encabezado {
  background: url('animals/imag25.jpg') center center / cover no-repeat;
  position: relative;
  color: #fff;
  min-height: 220px; /* Ajusta seg√∫n lo que necesites */
  display: flex;
  align-items: stretch; /* Para que los hijos ocupen todo el alto */
  padding: 0;
}
.encabezado::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(24,13,54,0.45); /* Oscurece para mejor contraste */
  z-index: 1;
}
.encabezado .logo{
  position: relative;
  margin-left: 20px;
  margin-bottom: 0;
  z-index: 2;
}
.texto-encabezado {
  position: relative;
  z-index: 2;
  flex: 1;
align-items: center;
  display: flex;
  height: 100%;
}
.encabezado .logo {
  width: 450px;
  margin-bottom: 10px;
}
.texto-encabezado h1,
.texto-encabezado p {
  margin: 0;
  line-height: 1.2;
  width: 100%;
}

.logo-box {
  position: relative;
  display: flex;
  flex-direction: column; 
  align-items: center;
  justify-content: center;
}
.logo-box::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 550px;
  height: 100%;
  background-color: #d7d7f088;
  filter: blur(10px) brightness(0.9);
  box-shadow: 0 4px 24px rgba(0,0,0,0.10);
  z-index: 1;
  clip-path: polygon(0 0, 100% 0, 80% 100%, 0% 100%);
}
.logo-contenido {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 40px;
  box-sizing: border-box;
}

.logo-box h3 {
  margin: 0;
  color: #ffffff;
  font-weight: bold;
  font-size: 1.2em;
  z-index: 2;
}
  </style>
</body>
</html>
